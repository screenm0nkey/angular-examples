<!doctype html>
<html ng-app="app">
<head>
</head>
<body ng-controller="MainCtrl as main">

  <a href="{{main.method().link}}">Link</a>

  <script src="/lib/angular/angular.js"></script>
  <script>
  var app = angular.module('app', []);

  app.controller('MainCtrl', function ($scope, $http) {
    var xhr;
    this.method = function () {
      debugger
      if (xhr) {
        return xhr
      } else {
        xhr = $http.get('/someurl');
      }
    }
  });

  // app.directive('nlHref', function () {
  //   return {
  //     restrict: 'A',
  //     link: function (scope, element, attr) {
  //       // attr.$set 'href', changeUrl(attr.jlHref)
  //     }
  //   }
  // })

  </script>
</body>
</html>
