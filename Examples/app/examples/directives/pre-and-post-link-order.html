<!doctype html>
<html ng-app="app">
<head>
  <script src="/lib/angular/angular.js"></script>
</head>
<body>

  <parent>
    <child></child>
  </parent>

  <script>
  // testParent Controller
  // testParent preLink
  // testChild  Controller
  // testChild  preLink
  // testChild  postLink
  // testParent postLink
  var app = angular.module('app', [])

  app.directive('parent', function() {
   return {
     restrict: 'E',
     controller: function(){
      console.log("testParent Controller");
      },
      compile: function(tElement, tAttrs){
        return {
          pre: function (scope, element, attrs){
            console.log("testParent preLink");
          },
          post: function (scope, element, attrs){
            console.log("testParent postLink");
          }
        }
      }
    }
  });

  app.directive('child', function() {
   return {
     restrict: 'E',
     controller: function(){
      console.log("testChild Controller");
      },
      compile: function(tElement, tAttrs){
        return {
          pre: function (scope, element, attrs){
            console.log("testChild preLink");
          },
          post: function (scope, element, attrs){
            console.log("testChild postLink");
          }
        }
      }
    }
  });

  </script>
</body>
</html>