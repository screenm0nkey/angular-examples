<html lang="en">
<head>

  <title></title>
</head>

<body>
  <div id="container1">
    {{random}}

    <div ng-controller="MainCtrl" hello>{{random * 100}}</div>
  </div>

  <div id="container2">
    {{random}}
    <div ng-controller="MainCtrl" hello>{{random * 100}}</div>
  </div>


  <script src="/lib/angular/angular.js"></script>
  <script type="text/javascript">
  window.MainCtrl = function ($scope) {
    console.log('Main', $scope)
  }

  var app = angular.module('app', []);

  app.run(function($rootScope){
    $rootScope.random =Math.random()
  })

  app.directive('hello', function() {
    return {
      compile : function () {
        console.log('compile');
        return function link () {
          console.log('link');
        }
      }
    };
  });

  angular.bootstrap(document.getElementById('container1'), ['app']);
  angular.bootstrap(document.getElementById('container2'), ['app']);

  </script>
</body>
</html>
