<!doctype html>
<html ng-app="app">
<head>
</head>
<body>


  <script src="/lib/angular-1.2/angular.js"></script>
  <script>
    // Run blocks are the closest thing in Angular to the main
    // method. A run block is the code which needs to run to kickstart the
    // application. It is executed after all of the service have been configured
    // and the injector has been created. Run blocks typically contain code
    // which is hard to unit-test, and for this reason should be declared in
    // isolated modules, so that they can be ignored in the unit-tests.
    var app = angular.module('app',[]);

    // this runs after the service, controllers and everything else have been
    // setup have been set up.
    app.run(function (TestSvc, $rootScope, $controller) {
      var scope = $rootScope.$new();
      var obj = $controller('DefaultCtrl', {$scope: scope});
      // $controller creates a instance of the the controller
      obj.doSomething();
    });

    app.factory('TestSvc', function () {
      return {
        nick : 11
      }
    });

    app.controller('DefaultCtrl', function($scope) {
      this.doSomething = function() {
        console.log('doSomething');
      }
    });



  </script>
</body>
</html>