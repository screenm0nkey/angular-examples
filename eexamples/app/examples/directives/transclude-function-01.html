<!doctype html>
<html>
<head>
  <script src="/lib/angular/angular.js"></script>
</head>
<body ng-app="myapp">

  <p badger>
    <a href="#">This text has been transcluded!</a>
  </p>

 <script>
 var app = angular.module('myapp', []);

 app.controller('MainCtrl', function($scope) {
   $scope.name = 'World';
 });

 app.directive('badger', function() {
   return {
     template: '<h3><span ng-transclude></span>This Test</h3>',
     transclude: 'element',
     restrict: 'AE',
     replace: true,
     link: function(scope, elem, attrs, ctrl, transclude) {
       transclude(scope, function(clone) {
         console.log(clone[0]);
         clone.css('background-color', 'yellow');
         clone.text('shot');
         elem.after(clone);
       });
     },
   }
 });
 </script>

</body>
</html>